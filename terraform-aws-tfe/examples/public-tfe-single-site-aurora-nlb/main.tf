module "tfe" {
  source                        = "../../"
  permit_all_egress             = var.permit_all_egress
  friendly_name_prefix          = var.friendly_name_prefix
  tfe_release_sequence          = var.tfe_release_sequence
  ssh_key_pair                  = var.ssh_keypair_name
  vpc_id                        = var.vpc_id
  tfe_hostname                  = var.tfe_hostname
  enable_active_active          = var.tfe_active_active
  iam_instance_profile          = var.iam_profile_name
  kms_key_arn                   = var.kms_key_arn
  ec2_subnet_ids                = var.ec2_subnet_ids
  lb_tg_arns                    = var.lb_tg_arns
  lb_type                       = var.lb_type
  s3_app_bucket_name            = var.s3_app_bucket_name
  s3_log_bucket_name            = var.s3_log_bucket_name
  cloudwatch_log_group_name     = var.cloudwatch_log_group_name
  log_forwarding_enabled        = var.log_forwarding_enabled
  log_forwarding_type           = var.log_forwarding_type
  tfe_secrets_arn               = var.tfe_secrets_arn
  replicated_license_secret_arn = var.replicated_license_secret_arn
  tfe_cert_secret_arn           = var.tfe_cert_secret_arn
  tfe_privkey_secret_arn        = var.tfe_privkey_secret_arn
  ca_bundle_secret_arn          = var.ca_bundle_secret_arn
  db_username                   = var.db_username
  db_password                   = var.db_password
  db_database_name              = var.db_database_name
  db_cluster_endpoint           = var.db_cluster_endpoint
  asg_hook_value                = var.asg_hook_value
  product                       = var.product
  common_tags                   = var.common_tags
  tls_bootstrap_type            = var.tls_bootstrap_type
  asg_max_size                  = 1
  asg_instance_count            = 1
}
